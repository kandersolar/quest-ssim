<SSimScreen>:
    name: 'ssim'
    bus_list: bus_list
    BoxLayout:
        orientation: "vertical"

        Label:
            text: "Project Name"

        TextInput:
            text: "unnamed"
            multiline: False

        Button:
            text: "select grid model"
            on_press: root.select_grid_model()

        Button:
            text: "select storage"
            on_press: root.open_der_configuration()

        Button:
            text: "configure loads"
            on_press: root.open_load_configuration()

        Button:
            text: "configure metrics"
            on_press: root.open_metric_configuration()

        Button:
            text: "Run"
            on_press: root.do_run_simulation()

        TextInput:
            id: bus_list
            multiline: True

<DERConfigurationScreen>:
    name: "der-config"

    BoxLayout:
        orientation: "vertical"    

        Button:
            text: "back"
            on_press: root.manager.current = 'ssim'

        Button:
            text: "save"
            on_press: root.save_config()

<LoadConfigurationScreen>:
    name: "load-config"

    BoxLayout:
        orientation: "vertical"    

        Button:
            text: "back"
            on_press: root.manager.current = 'ssim'

<MetricConfigurationScreen>:
    name: "metric-config"

    BoxLayout:
        orientation: "vertical"    

        Button:
            text: "back"
            on_press: root.manager.current = 'ssim'

<RunSimulationScreen>:
    name: "run-sim"

    BoxLayout:
        orientation: "vertical"    

        Button:
            text: "back"
            on_press: root.manager.current = 'ssim'


<SelectGridDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            path: "."
            filters: ["*.dss"]

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)